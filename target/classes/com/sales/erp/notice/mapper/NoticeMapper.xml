<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
     "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.sales.erp.notice.dao.NoticeMapper">

	<select id="getNoticeList" parameterType="com.sales.erp.notice.vo.NoticeSearchVO"
		resultType="com.sales.erp.notice.vo.NoticeVO">
		SELECT * FROM (SELECT ROWNUM R, D.* FROM
		(SELECT * FROM NOTICE WHERE
		TITLE LIKE #{word} ORDER BY REGDATE DESC) D)
		WHERE R <![CDATA[>=]]>
		#{start} AND R <![CDATA[<=]]>
		#{end} ORDER BY R ASC
	</select>

	<select id="getNoticeCount" parameterType="com.sales.erp.notice.vo.NoticeSearchVO"
		resultType="java.lang.Integer">
		SELECT COUNT(*) FROM NOTICE WHERE TITLE LIKE #{word}
	</select>

	<insert id="noticeWrite" parameterType="com.sales.erp.notice.vo.NoticeVO">
		INSERT INTO
		NOTICE(NUM,
		NAME, TITLE, CONTENT, REGDATE)
		VALUES(NOTICE_SEQ.NEXTVAL, #{name},
		#{title}, #{content},
		SYSDATE)
	</insert>

	<select id="noticeContent" parameterType="java.lang.String"
		resultType="com.sales.erp.notice.vo.NoticeVO">
		SELECT * FROM NOTICE WHERE NUM = #{num}
	</select>
	

</mapper>



